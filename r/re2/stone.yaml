#
# SPDX-FileCopyrightText: Â© 2020-2025 Serpent OS Developers
#
# SPDX-License-Identifier: MPL-2.0
#
name        : re2
version     : "2025-08-12"
release     : 9
upstreams   :
    - https://github.com/google/re2/releases/download/2025-08-12/re2-2025-08-12.tar.gz : 2f3bec634c3e51ea1faf0d441e0a8718b73ef758d7020175ed7e352df3f6ae12
license     : BSD-3-Clause
homepage    : https://github.com/google/re2/
summary     : RE2 is a fast, safe, thread-friendly alternative to backtracking regular expression engines
description : |
    RE2 is a fast, safe, thread-friendly alternative to backtracking regular expression engines
builddeps   :
    - pkgconfig(absl_config)
    - pkgconfig(icu-i18n)
checkdeps   :
    - pkgconfig(benchmark)
tuning      :
    - lto: full
setup       : |
    %cmake \
        -DBUILD_SHARED_LIBS=ON \
        -DRE2_BUILD_TESTING=ON \
        -DRE2_USE_ICU=ON
build       : |
    %cmake_build
install     : |
    %cmake_install
# check       : |
#     # Error parsing '\140\440\174\271\150\656\106\201\004\332': invalid escape sequence
#     # Possible libc++ issue?
#     %cmake_test
