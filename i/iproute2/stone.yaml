#
# SPDX-FileCopyrightText: Â© 2020-2024 Serpent OS Developers
#
# SPDX-License-Identifier: MPL-2.0
#
name        : iproute2
version     : 6.18.0
release     : 11
homepage    : https://wiki.linuxfoundation.org/networking/iproute2
upstreams   :
    - https://mirrors.edge.kernel.org/pub/linux/utils/net/iproute2/iproute2-6.18.0.tar.xz : 6ba520e1975e4c50dc931eeae91ea37c198b8a173744885f8895b84325f9d456
summary     : Utility collection to control networking and traffic
description : |
    Iproute2 is a collection of utilities for controlling TCP/IP networking and traffic control in Linux. It supersedes ifconfig and route commands.
license     :
    - GPL-2.0-only
builddeps   :
    - binary(bison)
    - binary(flex)
    - pkgconfig(libbpf)
    - pkgconfig(libcap)
    - pkgconfig(libmnl)
setup       : |
    %patch %(pkgdir)/fhs.patch

    %configure \
        --color=auto
build       : |
    %make HOSTCC=${CC}
install     : |
    SBINDIR=%(sbindir) %make_install
    %install_file %(pkgdir)/%(name).tmpfiles %(installroot)/%(tmpfilesdir)/%(name).conf

    # Empty
    rmdir -v %(installroot)%(libdir)/tc
