#
# SPDX-FileCopyrightText: Â© 2020-2025 Serpent OS Developers
#
# SPDX-License-Identifier: MPL-2.0
#
name        : discover
version     : 6.5.0
release     : 8
upstreams   :
    - https://download.kde.org/stable/plasma/6.5.0/discover-6.5.0.tar.xz : 93e43bf36ddc4713cb4ecc6d0f00a44fdae6426a7da5270f726457e63a0f283d
homepage    : https://apps.kde.org/discover/
license     : GPL-2.0-or-later
summary     : Discover helps you find and install applications, games, and tools.
description : |
    Discover helps you find and install applications, games, and tools. You can search or browse by category, and look at screenshots and read reviews to help you pick the perfect app. With Discover, you can manage software from multiple sources, including your operating system's software repository, Flatpak repos, the Snap store, or even AppImages from store.kde.org. Finally, Discover also allows you to find, install, and manage add-ons for Plasma and all your favorite KDE apps!
builddeps   :
    - cmake(AppStreamQt)
    # Temporary, boulder doesn't handle build ordering resolution correctly when builddeps are added by macros, so add ECM manually
    - cmake(ECM)
    - cmake(KF6Archive)
    - cmake(KF6Attica)
    - cmake(KF6Auth)
    - cmake(KF6CoreAddons)
    - cmake(KF6Config)
    - cmake(KF6Crash)
    - cmake(KF6DBusAddons)
    - cmake(KF6I18n)
    - cmake(KF6IconThemes)
    - cmake(KF6IdleTime)
    - cmake(KF6ItemModels)
    - cmake(KF6KCMUtils)
    - cmake(KF6KIO)
    - cmake(KF6Kirigami)
    - cmake(KF6KirigamiAddons)
    - cmake(KF6NewStuff)
    - cmake(KF6Notifications)
    - cmake(KF6Purpose)
    - cmake(KF6StatusNotifierItem)
    - cmake(KF6UserFeedback)
    - cmake(KF6XmlGui)
    - cmake(QCoro6)
    - cmake(Qt6Quick)
    - cmake(Qt6WebView)
    - pkgconfig(flatpak)
    - pkgconfig(libmarkdown)
    - pkgconfig(ostree-1)
    # TODO:
    # - fwupd
    # - packagekitqt
rundeps    :
    - kf6-kirigami
    - kf6-kitemmodels
    - kf6-purpose
    - kf6-qqc2-desktop-style
    - qt6-wayland
tuning      :
    - lto: full
    - optimize: speed
setup       : |
    %patch %(pkgdir)/0001-downstream-Nuke-rpath.patch
    %cmake_kf6
build       : |
    %cmake_build
install     : |
    %cmake_install
packages    :
    - "%(name)":
        paths:
            - /usr/lib/lib*.so
