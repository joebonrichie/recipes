#
# SPDX-FileCopyrightText: Â© 2020-2025 Serpent OS Developers
#
# SPDX-License-Identifier: MPL-2.0
#
name        : chezmoi
version     : 2.66.0
release     : 4
homepage    : https://github.com/twpayne/chezmoi
upstreams   :
    - https://github.com/twpayne/chezmoi/archive/refs/tags/v2.66.0.tar.gz : b76261f399ee828524713f2c83d13cd2d2592f20ff5b2536d6c15edc0483be86
summary     : Manage your dotfiles across multiple machines
description : |
    chezmoi helps you manage your personal configuration files
    (dotfiles, like ~/.gitconfig) across multiple machines.
license     : MIT
networking  : true
builddeps   :
    - binary(git)
    - binary(go)
setup       : |
    go mod download
build       : |
    go build \
        -buildmode=pie \
        -mod=readonly \
        -tags noupgrade \
        -ldflags "-compressdwarf=false \
        -X main.version=%(version) \
        -X main.date=${DATE}"
install     : |
    %install_bin chezmoi
    %install_file completions/chezmoi-completion.bash %(installroot)%(datadir)/bash-completion/completions/chezmoi
    %install_file completions/chezmoi.fish %(installroot)%(datadir)/fish/completions/chezmoi.fish
    %install_file completions/chezmoi.zsh %(installroot)%(datadir)/zsh/site-functions/_chezmoi
