#
# SPDX-FileCopyrightText: Â© 2020-2024 Serpent OS Developers
#
# SPDX-License-Identifier: MPL-2.0
#
name        : cosmic-files
version     : 1.0.2-git+3ff39c0
release     : 35
homepage    : https://github.com/pop-os/cosmic-files
upstreams   :
    - git|https://github.com/pop-os/cosmic-files : 3ff39c01eafa7a887f3ee8dbaaaa0139d1140a05
summary     : Cosmic Desktop File Browser
description : |
    Cosmic desktop File Browser
license     :
    - GPL-3.0
builddeps   :
    - binary(just)
    - binary(which)
    - pkgconfig(bzip2)
    - pkgconfig(glib-2.0)
    - pkgconfig(liblzma)
    - pkgconfig(libzstd)
    - pkgconfig(xkbcommon)
rundeps     :
    # Used for file services
    - gvfs-fuse
    - gvfs-nfs
    - gvfs-smb
networking  : yes
environment : |
    # Force system libs
    export ZSTD_SYS_USE_PKG_CONFIG=1
setup       : |
    %cargo_fetch
build       : |
    %cargo_build -p cosmic-files
    %cargo_build -p cosmic-files-applet
install     : |
    CARGO_TARGET_DIR="target/%(target_triple)" just rootdir=%(installroot) install
