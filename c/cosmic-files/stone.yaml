#
# SPDX-FileCopyrightText: Â© 2020-2024 Serpent OS Developers
#
# SPDX-License-Identifier: MPL-2.0
#
name        : cosmic-files
version     : 1.0.0-git+e65529d
release     : 29
homepage    : https://github.com/pop-os/cosmic-files
upstreams   :
    - git|https://github.com/pop-os/cosmic-files : e65529dcfcc9f85a6c8c6f8066d972ffd7e409f7
summary     : Cosmic Desktop File Browser
description : |
    Cosmic desktop File Browser
license     :
    - GPL-3.0
builddeps   :
    - binary(just)
    - binary(which)
    - pkgconfig(bzip2)
    - pkgconfig(glib-2.0)
    - pkgconfig(liblzma)
    - pkgconfig(libzstd)
    - pkgconfig(xkbcommon)
rundeps     :
    - gvfs # Used for file services
networking  : yes
environment : |
    # Force system libs
    export ZSTD_SYS_USE_PKG_CONFIG=1
setup       : |
    %cargo_fetch
build       : |
    %cargo_build -p cosmic-files
    %cargo_build -p cosmic-files-applet
install     : |
    CARGO_TARGET_DIR="target/%(target_triple)" just rootdir=%(installroot) install
