#
# SPDX-FileCopyrightText: Â© 2020-2025 Serpent OS Developers
#
# SPDX-License-Identifier: MPL-2.0
#
name        : cava
version     : '0.10.6'
release     : 3
homepage    : https://github.com/LukashonakV/cava
upstreams   :
    - https://github.com/LukashonakV/cava/archive/refs/tags/0.10.6.tar.gz : e715c4c6a625b8dc063e57e8e81c80e4d1015ec1b98db69a283b2c6770f839f4
summary     : Cross-platform Audio Visualizer
description : |
    Cross-platform Audio Visualizer
license     : MIT
builddeps   :
    - pkgconfig(alsa)
    - pkgconfig(fftw3)
    - pkgconfig(gl)
    - pkgconfig(iniparser)
    - pkgconfig(libpipewire-0.3)
    - pkgconfig(libpulse)
    - pkgconfig(ncursesw)
    - pkgconfig(sdl2)
setup       : |
    %meson \
        -Dbuild_target=all
build       : |
    %meson_build
install     : |
    %meson_install
packages    :
    - "%(name)":
        paths:
            - /usr/lib/libcava.so
tuning      :
    # <inline asm>:25:9: error: Could not find incbin file 'src/output/shaders/bar_spectrum.frag'
    #    25 | .incbin "src/output/shaders/bar_spectrum.frag"
    - lto: false
