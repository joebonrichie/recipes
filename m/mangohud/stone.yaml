#
# SPDX-FileCopyrightText: Â© 2020-2024 Serpent OS Developers
#
# SPDX-License-Identifier: MPL-2.0
#
name        : mangohud
version     : 0.8.2
release     : 11
homepage    : https://github.com/flightlessmango/MangoHud
upstreams   :
    - https://github.com/flightlessmango/MangoHud/releases/download/v0.8.2/MangoHud-v0.8.2-Source.tar.xz : 9fe98da24f790f4489efc1e0c8e3ad0291c80efd882a406797d54dab82f8765b
summary     : A Vulkan and OpenGL overlay for monitoring FPS, temperatures, CPU/GPU load and more
description : |
    A Vulkan and OpenGL overlay for monitoring FPS, temperatures, CPU/GPU load and more.
license     : MIT
builddeps   :
    - binary(glslang)
    - pkgconfig(cmocka)
    - pkgconfig(dbus-1)
    - pkgconfig(gl)
    - pkgconfig(glfw3)
    - pkgconfig(spdlog)
    - pkgconfig(wayland-client)
    - pkgconfig(x11)
    - pkgconfig(xkbcommon)
    - pkgconfig(xrandr)
    - python(mako)
    - libstdc++-static
setup       : |
    %meson \
        -Dmangoapp=true \
        -Dmangohudctl=true \
        -Duse_system_spdlog=enabled \
        -Dwith_xnvctrl=disabled # for now. needs nvidia-settings
build       : |
    %meson_build
install     : |
    %meson_install
packages    :
    - mangoplot:
        # This needs matplotlib and numpy
        paths:
            - /usr/bin/mangoplot
