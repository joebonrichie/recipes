#
# SPDX-FileCopyrightText: Â© 2020-2024 Serpent OS Developers
#
# SPDX-License-Identifier: MPL-2.0
#
name        : mimalloc
version     : 2.2.7
release     : 11
homepage    : https://github.com/microsoft/mimalloc
upstreams   :
    - https://github.com/microsoft/mimalloc/archive/refs/tags/v2.2.7.tar.gz: 8e0ed89907a681276bff2e49e9a048b47ba51254ab60daf6b3c220acac456a95
summary     : Compact general purpose allocator
description : |
    mimalloc is a compact general purpose allocator with excellent performance.
license     : MIT
setup       : |
    %cmake \
        -DMI_BUILD_OBJECT=OFF \
        -DMI_BUILD_STATIC=ON \
        -DMI_INSTALL_TOPLEVEL=ON
build       : |
    %cmake_build
install     : |
    %cmake_install
check       : |
    %cmake_test
tuning      :
    - lto: full
    - optimize: speed
packages    :
    - "%(name)-static":
        summary: Static libs for %(name)
        description: Static libs for %(name)
        paths:
            - /usr/lib/lib*.a
        rundeps:
            - "%(name)-devel"
