#
# SPDX-FileCopyrightText: Â© 2020-2024 Serpent OS Developers
#
# SPDX-License-Identifier: MPL-2.0
#
name        : highway
version     : 1.3.0
release     : 4
homepage    : https://github.com/google/highway
upstreams   :
    - https://github.com/google/highway/releases/download/1.3.0/highway-1.3.0.tar.gz : e8d696900b45f4123be8a9d6866f4e7b6831bf599f4b9c178964d968e6a58a69
summary     : Performance-portable, length-agnostic SIMD with runtime dispatch
description : |
    Performance-portable, length-agnostic SIMD with runtime dispatch
license     :
    - Apache-2.0
    - BSD-3-Clause
builddeps   :
    - cmake(GTest)
setup       : |
    %cmake \
        -DBUILD_SHARED_LIBS=ON \
        -DHWY_FORCE_STATIC_LIBS=OFF \
        -DHWY_SYSTEM_GTEST=ON
build       : |
    %cmake_build
install     : |
    %cmake_install
check       : |
    %cmake_test
packages    :
    - "%(name)-devel":
        paths:
            # We can move this back into the main package if non-dev packages end up depending on it
            - /usr/lib/libhwy_test.so.*
