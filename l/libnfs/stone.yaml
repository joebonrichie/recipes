#
# SPDX-FileCopyrightText: Â© 2020-2024 Serpent OS Developers
#
# SPDX-License-Identifier: MPL-2.0
#
name        : libnfs
version     : 6.0.2
release     : 1
homepage    : https://github.com/sahlberg/libnfs
upstreams   :
    - https://github.com/sahlberg/libnfs/archive/libnfs-6.0.2.tar.gz : 4e5459cc3e0242447879004e9ad28286d4d27daa42cbdcde423248fad911e747
summary     : A client library for accessing NFS shares over a network
description : |
    LIBNFS offers three different APIs: RAW, NFS ASYNC and NFS SYNC.
license     :
    - BSD-2-Clause
    - GPL-3.0-or-later
    - LGPL-2.1-or-later
builddeps   :
    - pkgconfig(gnutls)
setup       : |
    %patch %(pkgdir)/upstream-01.patch
    %patch %(pkgdir)/upstream-02.patch

    %cmake \
        -DENABLE_DOCUMENTATION=ON \
        -DENABLE_MULTITHREADING=ON \
        -DENABLE_UTILS=ON
build       : |
    %cmake_build
install     : |
    %cmake_install
packages    :
    - "%(name)-utils":
        summary: Utilities for accessing NFS servers
        description: Utilities for accessing NFS servers
        paths:
            - /usr/bin/
            - /usr/share/man/man1/
