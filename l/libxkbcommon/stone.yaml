#
# SPDX-FileCopyrightText: Â© 2020-2024 Serpent OS Developers
#
# SPDX-License-Identifier: MPL-2.0
#
name        : libxkbcommon
version     : 1.12.2
release     : 13
homepage    : https://xkbcommon.org
upstreams   :
    - https://github.com/xkbcommon/libxkbcommon/archive/refs/tags/xkbcommon-1.12.2.tar.gz : 40a333433d850c308f6fe8b15b57c54c769aad655e9c6563cc288bc650111ecf
summary     : Library for handling of keyboard descriptions
description : |
    xkbcommon is a library for handling of keyboard descriptions, including
    loading them from disk, parsing them and handling their state. It's mainly
    meant for client toolkits, window systems, and other system applications.
license     : MIT
emul32      : yes
builddeps   :
    - binary(bison)
    - binary(m4)
    - pkgconfig(wayland-protocols)
    - pkgconfig32(icu-uc)
    - pkgconfig32(libxml-2.0)
    - pkgconfig32(wayland-client)
    - pkgconfig32(wayland-scanner)
    - pkgconfig32(xcb)
    - pkgconfig32(xcb-xkb)
    - python(jinja2)
    - xkeyboard-config
rundeps     :
    - xkeyboard-config
setup       : |
    %meson \
        -Denable-docs=false
build       : |
    %meson_build
install     : |
    %meson_install
packages    :
    - "%(name)-x11":
        summary: X.Org X11 XKB keymap creation library
        description: X.Org X11 XKB keymap creation library
        paths:
            - /usr/lib/libxkbcommon-x11.so.*

    - "%(name)-x11-devel":
        summary: X.Org X11 XKB keymap creation library - development files
        description: X.Org X11 XKB keymap creation library - development files
        rundeps:
            - "%(name)-x11"
        paths:
            - /usr/include/xkbcommon/xkbcommon-x11.h
            - /usr/lib/libxkbcommon-x11.so
            - /usr/lib/pkgconfig/xkbcommon-x11.pc

    - "%(name)-utils":
        summary: X.Org XKB parsing utilities
        description: X.Org XKB parsing utilities
        paths:
            - /usr/bin/xkbcli
            - /usr/lib/libxkbcommon/xkbcommon/
            - /usr/share/bash-completion/completions/xkbcli
            - /usr/share/man/man1/

    - "%(name)-x11-utils":
        summary: X.Org X11 XKB parsing utilities
        description: X.Org X11 XKB parsing utilities
        rundeps:
            - "%(name)-utils"
        paths:
            - /usr/lib/libxkbcommon/xkbcommon/xkbcli-dump-keymap-x11
            - /usr/lib/libxkbcommon/xkbcommon/xkbcli-interactive-x11
            - /usr/share/man/man1/xkbcli-dump-keymap-x11.1*
            - /usr/share/man/man1/xkbcli-interactive-x11.1*
