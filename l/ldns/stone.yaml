#
# SPDX-FileCopyrightText: Â© 2020-2024 Serpent OS Developers
#
# SPDX-License-Identifier: MPL-2.0
#
name        : ldns
version     : 1.9.0
release     : 5
summary     : Fast DNS library supporting recent RFCs
license     : BSD-3-Clause
homepage    : https://www.nlnetlabs.nl/projects/ldns/
description : |
    Fast DNS library supporting recent RFCs
upstreams   :
    - https://www.nlnetlabs.nl/downloads/ldns/ldns-1.9.0.tar.gz: abaeed2858fbea84a4eb9833e19e7d23380cc0f3d9b6548b962be42276ffdcb3
builddeps   :
      - binary(ar)
      - pkgconfig(libpcap)
      - pkgconfig(openssl)
setup       : |
    %configure \
        --disable-static \
        --with-drill \
        --with-examples
build       : |
    %make
install     : |
    %make_install
    %install_file packaging/libldns.pc %(installroot)/%(libdir)/pkgconfig/libldns.pc
# TODO fix /usr/bin/ldns-config ending up in -utils when it should be in devel
packages    :
    - "%(name)-devel":
        paths:
            - /usr/bin/ldns-config
            - /usr/share/man/man1/ldns-config.1

    - "%(name)-libs":
        description: |
            ldns libraries
        paths:
            - /usr/lib/libldns.so.*
