#
# SPDX-FileCopyrightText: Â© 2020-2024 Serpent OS Developers
#
# SPDX-License-Identifier: MPL-2.0
#
name        : libstone
version     : "0.26.1+git.647000c"
release     : 5
homepage    : https://github.com/serpent-os/tools
upstreams   :
    - git|https://github.com/AerynOS/os-tools.git : 647000ce6c4570ae451359ac87639df57c060db8
summary     : Library to read .stone archives
description : |
    Library to read .stone archives
license     : MPL-2.0
networking  : yes
builddeps   :
    - cargo-c
setup       : |
    %cargo_fetch
build       : |
    cargo cbuild \
      -p libstone \
      --prefix=%(prefix) \
      --frozen \
      --release
install     : |
    cargo cinstall \
      -p libstone \
      --destdir=%(installroot) \
      --libdir=%(libdir) \
      --release \
      --frozen \
      --prefix=%(prefix)

    rm -v %(installroot)%(libdir)/*.a
