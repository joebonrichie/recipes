#
# SPDX-FileCopyrightText: Â© 2020-2024 Serpent OS Developers
#
# SPDX-License-Identifier: MPL-2.0
#
name        : tinysparql
version     : 3.10.1
release     : 12
homepage    : https://tracker.gnome.org/overview/
upstreams   :
    - https://download.gnome.org/sources/tinysparql/3.10/tinysparql-3.10.1.tar.xz : 5a7f3e789db6671a550ed6280ed4f60a60bea77368da92be68dc7d8d7e230265
summary     : Tracker is an efficient search engine and distributed database for desktop, embedded and mobile.
description : |
    Tracker SPARQL contains the triplestore database, provided as the libtracker-sparql library and implemented using SQLite. Also contains the database ontologies and the commandline user interface (tracker3).
license     :
    - GPL-2.0-or-later
    - LGPL-2.1-or-later
builddeps   :
    - binary(a2x)
    - binary(dot)
    - binary(gi-docgen)
    - binary(msgfmt)
    - binary(vapigen)
    - pkgconfig(avahi-client)
    - pkgconfig(avahi-glib)
    - pkgconfig(bash-completion)
    - pkgconfig(dbus-1)
    - pkgconfig(gio-2.0)
    - pkgconfig(gio-unix-2.0)
    - pkgconfig(glib-2.0)
    - pkgconfig(gmodule-2.0)
    - pkgconfig(gobject-2.0)
    - pkgconfig(gobject-introspection-1.0)
    - pkgconfig(icu-i18n)
    - pkgconfig(icu-uc)
    - pkgconfig(json-glib-1.0)
    - pkgconfig(libsoup-3.0)
    - pkgconfig(libxml-2.0)
    - pkgconfig(sqlite3)
    - pkgconfig(systemd)
    - python(pygobject)
    # libstemmer
environment : |
    %export_docbook_catalogs
setup       : |
    %meson
build       : |
    %meson_build
install     : |
    %meson_install

    %install_file %(pkgdir)/tinysparql.preset %(installroot)%(libdir)/systemd/user-preset/%(name).preset
packages    :
    - libtinysparql:
        paths:
            - /usr/lib/girepository-1.0/Tracker-3.0.typelib
            - /usr/lib/girepository-1.0/Tsparql-3.0.typelib
            - /usr/lib/libtinysparql-3.0.so.*
            - /usr/lib/libtracker-sparql-3.0.so.*
            - /usr/lib/tinysparql-3.0/*.so

    - "%(name)-devel":
        paths:
            - /usr/share/vala/vapi/

    - "%(name)-docs":
        paths:
            - /usr/share/doc/
