#
# SPDX-FileCopyrightText: Â© 2020-2025 Serpent OS Developers
#
# SPDX-License-Identifier: MPL-2.0
#
name        : telepathy-glib
version     : 0.24.2
release     : 1
homepage    : https://telepathy.freedesktop.org/
upstreams   :
    - https://telepathy.freedesktop.org/releases/telepathy-glib/telepathy-glib-0.24.2.tar.gz : b0a374d771cdd081125f38c3abd079657642301c71a543d555e2bf21919273f0
summary     : Telepathy is a D-Bus framework for unifying real time communication
description : |
    The Telepathy GLib contains a library used by GLib based Telepathy components. Telepathy is a D-Bus framework for unifying real time communication, including instant messaging, voice calls and video calls. It abstracts differences between protocols to provide a unified interface for applications.
license     : GPL-2.0-or-later
builddeps   :
    - binary(xsltproc)
    - pkgconfig(dbus-glib-1)
    - pkgconfig(gobject-introspection-1.0)
    - pkgconfig(vapigen)
setup       : |
    # Borrow patches from Fedora
    %patch %(pkgdir)/telepathy-glib-prXXX-function-type-cast.patch
    %patch %(pkgdir)/telepathy-glib-pr3-test-cm-with-newer-glib.patch
    %configure  \
        --disable-static \
        --enable-vala-bindings \
        --enable-introspection
build       : |
    %make
install     : |
    %make_install
packages    :
    - "%(name)-devel":
        paths:
        - /usr/share/vala/vapi/*
