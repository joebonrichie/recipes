#
# SPDX-FileCopyrightText: Â© 2025- AerynOS Developers
#
# SPDX-License-Identifier: MPL-2.0
#
name        : prism-launcher
version     : 10.0.2
release     : 3
homepage    : https://github.com/PrismLauncher/PrismLauncher
upstreams   :
    - https://github.com/PrismLauncher/PrismLauncher/releases/download/10.0.2/PrismLauncher-10.0.2.tar.gz : 4b36e8b0345a21a9a8da36633fa5bf4d8f44d992da1529cdfb6bf52a0ff7f33c
summary     : A custom launcher for Minecraft
description : |
    A custom launcher for Minecraft that allows you to easily manage multiple installations of Minecraft at once (Fork of MultiMC)
license     : 
    - CC-BY-SA-4.0
    - GPL-3.0-or-later
    - GPL-3.0-only
builddeps   :
    - binary(java-17)
    - binary(scdoc)
    - cmake(ECM)
    - cmake(cmark)
    - cmake(Qt6)
    - cmake(Qt6NetworkAuth)
    - cmake(tomlplusplus)
    - pkgconfig(gamemode)
    - pkgconfig(libarchive)
    - pkgconfig(libqrencode)
rundeps     :
    - binary(gamemoderun)
    - binary(java-21)
    - soname(libglfw.so.3(x86_64))
    - soname(libopenal.so.1(x86_64))
    - qt6-wayland
setup       : |
    export JAVA_HOME=/usr/lib/jvm/openjdk-17
    export PATH=$JAVA_HOME/bin:$PATH

    # Launcher_GLFW_LIBRARY_NAME and Launcher_OPENAL_LIBRARY_NAME need to match the correct sonames of those libraries
    %cmake \
        -DLauncher_BUILD_PLATFORM="aerynos" \
        -DLauncher_ENABLE_JAVA_DOWNLOADER=ON \
        -DLauncher_GLFW_LIBRARY_NAME="libglfw.so.3" \
        -DLauncher_OPENAL_LIBRARY_NAME="libopenal.so.1"
build       : |
    %cmake_build
install     : |
    %cmake_install
