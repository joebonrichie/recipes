#
# SPDX-FileCopyrightText: Â© 2020-2024 Serpent OS Developers
#
# SPDX-License-Identifier: MPL-2.0
#
name        : keyd
version     : 2.6.0
release     : 4
homepage    : https://github.com/rvaiya/keyd
upstreams   :
    - https://github.com/rvaiya/keyd/archive/refs/tags/v2.6.0.tar.gz : 697089681915b89d9e98caf93d870dbd4abce768af8a647d54650a6a90744e26
summary     : A key remapping daemon for linux.
description : |
    Linux lacks a good key remapping solution. In order to achieve satisfactory results a medley of tools need to be employed (e.g xcape, xmodmap) with the end result often being tethered to a specified environment (X11). keyd attempts to solve this problem by providing a flexible system wide daemon which remaps keys using kernel level input primitives (evdev, uinput).
license     : MIT
builddeps   :
    - pkgconfig(systemd)
build       : |
    %make PREFIX=/usr
install     : |
    %make_install PREFIX=/usr FORCE_SYSTEMD=1

    %tmpfiles 'f /run/keyd.socket 0664 - - -'
    %tmpfiles 'd /etc/keyd 0755 - - -'

    %install_file %(pkgdir)/40-keyd.preset %(installroot)%(libdir)/systemd/system-preset/40-keyd.preset
