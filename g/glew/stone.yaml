#
# SPDX-FileCopyrightText: Â© 2020-2024 Serpent OS Developers
#
# SPDX-License-Identifier: MPL-2.0
#
name        : glew
version     : 2.3.0
release     : 4
homepage    : https://github.com/nigels-com/glew
upstreams   :
    - https://github.com/nigels-com/glew/releases/download/glew-2.3.0/glew-2.3.0.tgz : b261a06dfc8b970e0a1974488530e58dd2390acf68acb05b45235cd6fb17a086
summary     : The OpenGL Extension Wrangler Library
description : |
    The OpenGL Extension Wrangler Library (GLEW) is a cross-platform open-source C/C++ extension loading library. GLEW provides efficient run-time mechanisms for determining which OpenGL extensions are supported on the target platform. OpenGL core and extension functionality is exposed in a single header file.
license     :
    - MIT
    - BSD
    - GPL
builddeps   :
    - pkgconfig(egl)
    - pkgconfig(gl)
    - pkgconfig(glu)
    - pkgconfig(x11)
environment : |
    export LDFLAGS+=" -lX11"
setup       : |
    %patch %(pkgdir)/glew-install.patch
    %patch %(pkgdir)/ldflags.patch
build       : |
    %make STRIP=
install     : |
    %make DESTDIR="%(installroot)" STRIP= install.all

    %install_file LICENSE.txt %(installroot)/usr/share/licenses/glew/LICENSE

    rm -v %(installroot)/%(libdir)/*.a
# TODO: Split this maybe?
