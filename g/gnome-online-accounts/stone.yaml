#
# SPDX-FileCopyrightText: Â© 2020-2024 Serpent OS Developers
#
# SPDX-License-Identifier: MPL-2.0
#
name        : gnome-online-accounts
version     : 3.56.3
release     : 23
homepage    : https://gitlab.gnome.org/GNOME/gnome-online-accounts
upstreams   :
    - https://download.gnome.org/sources/gnome-online-accounts/3.56/gnome-online-accounts-3.56.3.tar.xz : 38596f17e0269f77e1623a6bf79569573c7bdf7b7cd863fb478a78ae664dea30
summary     : Single sign-on framework for GNOME
description : |
    Single sign-on framework for GNOME
license     :
    - LGPL-2.1-or-later
builddeps   :
    - binary(gi-docgen)
    - binary(msgfmt)
    - binary(vapigen)
    - binary(xsltproc)
    - pkgconfig(dbus-1)
    - pkgconfig(gcr-4)
    - pkgconfig(glib-2.0)
    - pkgconfig(gobject-introspection-1.0)
    - pkgconfig(gtk4)
    - pkgconfig(json-glib-1.0)
    - pkgconfig(krb5)
    - pkgconfig(libadwaita-1)
    - pkgconfig(libkeyutils)
    - pkgconfig(libsecret-1)
    - pkgconfig(libsoup-3.0)
    - pkgconfig(libxml-2.0)
    - pkgconfig(rest-1.0)
    - docbook
    - docbook-xsl
environment : |
    %export_docbook_catalogs
setup       : |
    %meson \
        -Ddocumentation=true
build       : |
    %meson_build
install     : |
    %meson_install

    %install_dir %(installroot)%(docdir)/%(name)-devel/
    echo "DEPRECATED" > %(installroot)%(docdir)/%(name)-devel/README
packages    :
    - "%(name)":
        rundeps:
            - gvfs-goa
            # evolution-ews-core
    - "%(name)-libs":
        paths:
            - /usr/lib/girepository-1.0/
            - /usr/lib/libgoa*.so.*

    - "%(name)-libs-devel":
        rundeps:
            - "%(name)-libs"
        paths:
            - /usr/include/
            - /usr/lib/goa-1.0/include/
            - /usr/lib/girepository-1.0/
            - /usr/lib/libgoa*.so
            - /usr/lib/pkgconfig/
            - /usr/share/gir-1.0/
            - /usr/share/vala/vapi/

    - "%(name)-docs":
        paths:
            - /usr/share/doc

    - "%(name)-devel":
        paths:
            - /usr/share/doc/%(name)-devel/
