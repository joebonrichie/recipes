#
# SPDX-FileCopyrightText: Â© 2020-2024 Serpent OS Developers
#
# SPDX-License-Identifier: MPL-2.0
#
name        : graphviz
version     : 14.1.0
release     : 12
homepage    : https://www.graphviz.org
upstreams   :
    - https://gitlab.com/api/v4/projects/4207231/packages/generic/graphviz-releases/14.1.0/graphviz-14.1.0.tar.xz : d532ed4bf1449d0cfa44a532d033a8894290fd2d990afbc2a29091abcd2d9cb3
summary     :  Graphviz is open source graph visualization software
description : |
     Graphviz is open source graph visualization software
license     : EPL-1.0
builddeps   :
    - binary(bison)
    - binary(flex)
    - binary(groff)
    - binary(swig)
    - pkgconfig(Qt6Core)
    - pkgconfig(expat)
    - pkgconfig(gdk-3.0)
    - pkgconfig(gdk-pixbuf-2.0)
    - pkgconfig(glu)
    - pkgconfig(glut)
    - pkgconfig(gts)
    - pkgconfig(librsvg-2.0)
    - pkgconfig(libwebp)
    - pkgconfig(pango)
    - pkgconfig(poppler)
    - pkgconfig(poppler-glib)
    - pkgconfig(python3)
    - pkgconfig(xaw6)
    - ghostscript-devel
    - libtool-ltldl-devel
setup       : |
    %configure
build       : |
    %make
install     : |
    %make_install
packages    :
    - "%(name)-libs":
        paths:
            - /usr/lib/libcdt.so.*
            - /usr/lib/libcgraph.so.*
            - /usr/lib/libgvc.so.*
            - /usr/lib/libgvpr.so.*
            - /usr/lib/libpathplan.so.*
            - /usr/lib/libxdot.so.*

    - "%(name)-devel":
        paths:
            - /usr/lib/graphviz/*.so

    - "%(name)-docs":
        paths:
            - /usr/share/doc/*

    - "%(name)-graphs":
        summary: Demo graphs for graphviz
        description: Demo graphs for graphviz
        paths:
            - /usr/share/graphviz/graphs/

    - "%(name)-gtk3":
        summary: Graphviz plugin for renderers based on gtk3
        description: Graphviz plugin for renderers based on gtk3
        rundeps:
            - "%(name)"
        paths:
            - /usr/lib/graphviz/libgvplugin_gdk.so.*

    - "%(name)-gvedit":
        summary: Simple graph editor and viewer
        description: Simple graph editor and viewer
        rundeps:
            - "%(name)"
            - qt6-wayland
        paths:
            - /usr/bin/gvedit
            - /usr/share/man/man1/gvedit.1*

    - "%(name)-python":
        summary: Python 3 extension for graphviz
        description: Python 3 extension for graphviz
        rundeps:
            - "%(name)"
        paths:
            - /usr/lib/python3*/site-packages/
            - /usr/lib/graphviz/python3/
            - /usr/share/man/man3/gv.3python*
            - /usr/share/graphviz/demo/modgraph.py
