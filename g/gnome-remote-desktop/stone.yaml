#
# SPDX-FileCopyrightText: Â© 2020-2024 Serpent OS Developers
#
# SPDX-License-Identifier: MPL-2.0
#
name        : gnome-remote-desktop
version     : "49.0"
release     : 14
homepage    : https://gitlab.gnome.org/GNOME/gnome-remote-desktop
upstreams   :
    - https://download.gnome.org/sources/gnome-remote-desktop/49/gnome-remote-desktop-49.0.tar.xz : d47add9d970f224acc77efe5a216486d40451e2bc21b85bfec5397d420fda18a
summary     : Remote desktop daemon for GNOME using pipewire
description : |
    Remote desktop server which allows you to connect to your machine remotely
license     :
    - GPL-2.0-or-later
builddeps   :
    - binary(a2x)
    - binary(glslc)
    - binary(msgfmt)
    - binary(mutter)
    - binary(spirv-opt)
    - pkgconfig(cairo)
    - pkgconfig(dbus-1)
    - pkgconfig(epoxy)
    - pkgconfig(fdk-aac)
    - pkgconfig(ffnvcodec)
    - pkgconfig(freerdp-client3)
    - pkgconfig(freerdp-server3)
    - pkgconfig(freerdp3)
    - pkgconfig(fuse3)
    - pkgconfig(gbm)
    - pkgconfig(gio-2.0)
    - pkgconfig(gio-unix-2.0)
    - pkgconfig(glib-2.0)
    - pkgconfig(gudev-1.0)
    - pkgconfig(libdrm)
    - pkgconfig(libei-1.0)
    - pkgconfig(libnotify)
    - pkgconfig(libpipewire-0.3)
    - pkgconfig(libsecret-1)
    - pkgconfig(libva)
    - pkgconfig(opus)
    - pkgconfig(polkit-gobject-1)
    - pkgconfig(systemd)
    - pkgconfig(tss2-esys)
    - pkgconfig(tss2-mu)
    - pkgconfig(tss2-rc)
    - pkgconfig(tss2-tctildr)
    - pkgconfig(vulkan)
    - pkgconfig(winpr3)
    - pkgconfig(wireplumber-0.5)
    - pkgconfig(xkbcommon)
    - docbook
    # TODO: libvncclient required for VNC support
rundeps     :
    - binary(pipewire)
environment : |
    # Temporary, replace with boulder macro
    export XML_CATALOG_FILES="file:///usr/share/defaults/docbook/docbook-dtd/catalog file:///usr/share/defaults/docbook/docbook-xsl/catalog"
setup       : |
    %meson \
        -Drdp=true \
        -Dsystemd=true \
        -Dvnc=false
build       : |
    %meson_build
install     : |
    %meson_install
