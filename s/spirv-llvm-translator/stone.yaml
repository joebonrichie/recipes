#
# SPDX-FileCopyrightText: Â© 2020-2024 Serpent OS Developers
#
# SPDX-License-Identifier: MPL-2.0
#
name        : spirv-llvm-translator
version     : 21.1.2
release     : 11
homepage    : https://github.com/KhronosGroup/SPIRV-LLVM-Translator
upstreams   :
    - git|https://github.com/KhronosGroup/SPIRV-LLVM-Translator.git: a37544fc0bb90b4e8b8d755580119c018891dfa4
summary     : Tool/library for translation between SPIR-V and LLVM IR
description : |
    A tool and a library for bi-directional translation between SPIR-V and LLVM IR
license     :
    - Apache-2.0 WITH LLVM-exception
builddeps  :
    - binary(llvm-config32)
    - pkgconfig32(SPIRV-Tools)
    # TODO I think if we build llvm 32bit with spir-v backend support we can probably build this without spirv-tools
emul32     : true
setup       : |
    %cmake \
        -DBUILD_SHARED_LIBS=ON \
        -DLLVM_EXTERNAL_SPIRV_HEADERS_SOURCE_DIR=/usr/include/spirv
build       : |
    %cmake_build
install     : |
    %cmake_install
