#
# SPDX-FileCopyrightText: Â© 2025- AerynOS Developers
#
# SPDX-License-Identifier: MPL-2.0
#
name        : scenefx
version     : 0.4.1
release     : 1
homepage    : https://github.com/wlrfx/scenefx
upstreams   :
    - https://github.com/wlrfx/scenefx/archive/refs/tags/0.4.1.tar.gz : fa23f6ff509168d4a5eb0c5a7ef3b8cf3d39e3fba18320c28256e6c91c85d9ff
summary     : A drop-in replacement for the wlroots scene API that allows wayland compositors to render surfaces with eye-candy effects
description : |
    wlroots is the de-facto library for building wayland compositors, and its scene api is a great stride in simplifying wayland compositor development.
license     : 
    - MIT
builddeps   :
    - binary(g++)
    - binary(meson)
    
    - pkgconfig(libglvnd)
    - pkgconfig(libdrm)
    - pkgconfig(pixman-1)
    - pkgconfig(wayland-protocols)
    - pkgconfig(wayland-server)
    - pkgconfig(wlroots)
    - pkgconfig(xkbcommon)
setup       : |
    %meson
build       : |
    %meson_build
install     : |
    %meson_install

    # Create an unversioned symlink so we can continue to use `pkgconfig(scenefx)`
    ln -sv scenefx-$(echo %(version) | cut -d. -f1).$(echo %(version) | cut -d. -f2).pc %(installroot)/%(libdir)/pkgconfig/scenefx.pc
packages    :
    - "%(name)":
        summary: SceneFX runtime library
        paths:
            - /usr/lib*/*.so
