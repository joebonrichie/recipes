From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Ikey Doherty <ikey@serpentos.com>
Date: Sun, 14 Jul 2024 20:46:28 +0000
Subject: [PATCH] Fallback to stateless directories, ship files in datadir by
 default

Signed-off-by: Ikey Doherty <ikey@serpentos.com>
---
 meson.build | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/meson.build b/meson.build
index 7861bff..7cb4009 100644
--- a/meson.build
+++ b/meson.build
@@ -53,7 +53,7 @@ else
 endif
 
 # Set install directories
-conf_data.set_quoted('XDGCONFDIR', get_option('sysconfdir') / 'xdg')
+conf_data.set_quoted('XDGCONFDIR', get_option('sysconfdir') / 'xdg' + ':' + get_option('datadir') + '/xdg')
 conf_data.set_quoted('LOCALEDIR', get_option('localedir'))
 
 # Generate config.h
@@ -106,7 +106,7 @@ install_data('xdg-user-dir',
   install_mode: 'rwxr-xr-x'
 )
 
-xdg_config_dir = get_option('sysconfdir') / 'xdg'
+xdg_config_dir = get_option('datadir') / 'xdg'
 install_data(['user-dirs.conf', 'user-dirs.defaults'],
   install_dir: xdg_config_dir
 )
