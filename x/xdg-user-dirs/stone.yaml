#
# SPDX-FileCopyrightText: Â© 2020-2024 Serpent OS Developers
#
# SPDX-License-Identifier: MPL-2.0
#
name        : xdg-user-dirs
version     : "0.19"
release     : 6
homepage    : http://user-dirs.freedesktop.org/releases
upstreams   :
    - git|https://gitlab.freedesktop.org/xdg/xdg-user-dirs.git : 0577968675b9d7d660b3715cf6b2e00c6d491d67
summary     : freedesktop.org compliant user directories
description : |
    xdg-user-dirs is a tool to help manage "well known" user directories like the desktop folder and the music folder. It also handles localization (i.e. translation) of the filenames.
license     : GPL-2.0
builddeps   :
    - binary(msgfmt)
    - binary(xsltproc)
    - pkgconfig(systemd)
    - docbook
    - docbook-xsl
environment : |
    %export_docbook_catalogs
setup       : |
    %patch %(pkgdir)/0001-Fallback-to-stateless-directories-ship-files-in-data.patch

    %meson
build       : |
    %meson_build
install     : |
    %meson_install

    rm -frv %(installroot)%(datadir)/xdg/autostart
    %install_file %(pkgdir)/60-xdg-user-dirs.preset %(installroot)%(libdir)/systemd/user-preset/60-xdg-user-dirs.preset
