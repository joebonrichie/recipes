#
# SPDX-FileCopyrightText: Â© 2020-2024 Serpent OS Developers
#
# SPDX-License-Identifier: MPL-2.0
#
name        : onetbb
version     : 2022.3.0
release     : 6
summary     : Thread Building Blocks library
license     : Apache-2.0 AND BSD-3-Clause
homepage    : https://uxlfoundation.github.io/oneTBB/
description : |
    The Threading Building Blocks library abstracts low-level threading details
upstreams   :
    - https://github.com/uxlfoundation/oneTBB/archive/refs/tags/v2022.3.0.tar.gz: 01598a46c1162c27253a0de0236f520fd8ee8166e9ebb84a4243574f88e6e50a
builddeps   :
    - pkgconfig(hwloc)
setup       : |
    %cmake \
        -DTBB_STRICT=OFF
build       : |
    %cmake_build
install     : |
    %cmake_install
tuning      :
    - lto: full
packages    :
    - "%(name)-bind":
        summary: "NUMA support library for %(name)"
        description: |
            NUMA support library for %(name)
        paths:
            - /usr/lib/libtbbbind*.so.*

    - "%(name)-devel":
        rundeps:
            - "%(name)-bind"
